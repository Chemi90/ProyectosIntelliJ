CREATE DATABASE IF NOT EXISTS GestionPedidos;
USE GestionPedidos;

CREATE TABLE Usuarios (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nombre VARCHAR(255) NOT NULL,
    contraseña VARCHAR(255) NOT NULL,
    email VARCHAR(255) NOT NULL
);

CREATE TABLE Productos (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nombre VARCHAR(255) NOT NULL,
    precio DECIMAL(10, 2) NOT NULL,
    cantidad_disponible INT NOT NULL
);

CREATE TABLE Pedidos (
    id INT AUTO_INCREMENT PRIMARY KEY,
    código VARCHAR(255) NOT NULL,
    fecha DATE NOT NULL,
    usuario INT NOT NULL,
    total DECIMAL(10, 2) NOT NULL,
    FOREIGN KEY (usuario) REFERENCES Usuarios(id)
);

CREATE TABLE ItemsPedidos (
    id INT AUTO_INCREMENT PRIMARY KEY,
    pedido INT NOT NULL,
    cantidad INT NOT NULL,
    producto INT NOT NULL,
    FOREIGN KEY (pedido) REFERENCES Pedidos(id),
    FOREIGN KEY (producto) REFERENCES Productos(id)
);

INSERT INTO Usuarios (nombre, contraseña, email) VALUES
('user1', 'pass1', 'user1@example.com'),
('user2', 'pass2', 'user2@example.com'),
('user3', 'pass3', 'user3@example.com'),
('user4', 'pass4', 'user4@example.com');